language: java

before_install:
  - sudo add-apt-repository ppa:openjdk-r/ppa
  - sudo apt-get -qq update
  - sudo apt-get install -y openjdk-8-jdk
  - sudo update-java-alternatives -s java-1.8.0-openjdk-amd64
  
sudo: true
notifications:
  email:
    on_success: never
    on_failure: change
cache:
  directories:
       - $HOME/.m2

env:
  global:
    - DISPLAY=:99.0
  dist: xenial

jdk:
  - openjdk-8-jdk

script:
  - jdk_switcher use openjdk-8-jdk
  - mvn test -f ./pom.xml

after_success:
  - mvn clean test cobertura:cobertura coveralls:report
